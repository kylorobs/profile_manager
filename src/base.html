<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://use.typekit.net/mgu1jus.css">

    <script type="module" src="https://unpkg.com/kclsu-components@0.1.5/dist/kclsu-components/kclsu-components.esm.js"></script>
    <script nomodule="" src="https://unpkg.com/kclsu-components@0.1.5/dist/kclsu-components.js"></script>   
    <title>KCLSU Profile Manager</title>
</head>

<body>
    <div class="grid" id="app"></div>
</body>

<script>
function filterFeatured(ad){
    return ad.featured === "true"
}

function filterExpired(ad){
    return ad.visible === "hidden"
}

function filterVisible(ad){
    return ad.visible !== "hidden"
}

function filterTotum(ad){
    return ad.category === "totum"
}

profileManager({
pageTitle: 'Student Deals Manager',
categories: [["Featured Ad", "featured", filterFeatured], ["Hidden", "notvisible", filterExpired], ["Visible", "visible", filterVisible], ["Totum", "totum", filterTotum]],
labelCardKeys: ['image', 'advertiser', ''],
dataUrl: 'https://student-deals-4362e-default-rtdb.firebaseio.com/',
categoryKeyName: 'category',
keyMapping: [
    { 
        keyName: 'advertiser',
        inputTitle: 'Name',
        inputDefaultText: "The name of the advertiser's business...",
        type: 'input',
        validationErrorMsg: 'Please supply a valid name',
        validationTypes: ['isRequired']
    },
    { 
        keyName: 'url',
        inputTitle: 'Ad URL',
        inputDefaultText: 'The website URL for the ad...',
        type: 'input',
        validationErrorMsg: 'Please supply a valid URL for the ad',
        validationTypes: ['isUrl']
    },
    { 
        keyName: 'image',
        inputTitle: 'Ad Image',
        inputDefaultText: '',
        type: 'image_file',
        thumbnailUrl: 'https://res.cloudinary.com/kclsu-media/image/upload/v1616514913/website_uploads/Database_Uploads/thumbnails/specs_s7jxey.jpg',
        validationErrorMsg: 'You have not uploaded an image for this ad!',
        validationTypes: ['isRequired', 'isNotThumbnail']
    },
    { 
        keyName: 'textShort',
        inputTitle: 'Short Text',
        inputDefaultText: 'A short description less than 80 character',
        type: 'input',
        validationErrorMsg: 'Please enter a short text description, with the correct length.',
        validationTypes: ['isRequired']
    },
    { 
        keyName: 'textLong',
        inputTitle: 'Long Text',
        inputDefaultText: 'A longer description...',
        type: 'textarea',
        validationErrorMsg: 'Please provide a full facebook URL.',
        validationTypes: ['isRequired']
    },
    { 
        keyName: 'expiryDate',
        inputTitle: 'Expiry Date',
        inputDefaultText: 'yyyy-mm-dd',
        type: 'input',
        validationErrorMsg: 'The expirey date must be in the correct format: YYYY-MM-DD',
        validationTypes: ['isDate']
    },
    { 
        keyName: 'expiryTime',
        inputTitle: 'Expiry Time',
        inputDefaultText: 'hh-mm-ss. Example: 14:00:00',
        type: 'input',
        validationErrorMsg: 'Please supply the expirey time in the correct format. Example 14:00:00.',
        validationTypes: ['isTime']
    },
    { 
        keyName: 'featured',
        inputTitle: 'Featured Banner',
        inputDefaultText: '....',
        type: 'select',
        validationErrorMsg: 'Select a featured banner option',
        options: [["Yes", 'true' , null], ["No", 'false', null]],
        validationTypes: ['isBoolean']
    },
    { 
        keyName: 'category',
        inputTitle: 'Category',
        inputDefaultText: '...',
        type: 'select',
        options: [["External", "external", null], ["Totum", "totum", null], ["Union Shop", "unionShop", null], ["Guy's Bar", "guysBar", null], ["The Shack", "theShack", null], ["The Shed", "theShed", null], ["The Vault", "theVault", null]],
        validationErrorMsg: 'Please choose a category',
        validationTypes: ['isRequired']
    },
    { 
        keyName: 'visible',
        inputTitle: 'Visibility',
        inputDefaultText: '....',
        type: 'select',
        validationErrorMsg: 'Select a visibility option',
        options: [["Hidden", 'hidden', null], ["Show", 'show', null]],
        validationTypes: ['isRequired']
    },
    
]

});
 
</script>
</html>