<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://use.typekit.net/mgu1jus.css">

    <script type="module" src="https://unpkg.com/kclsu-components@0.1.5/dist/kclsu-components/kclsu-components.esm.js"></script>
    <script nomodule="" src="https://unpkg.com/kclsu-components@0.1.5/dist/kclsu-components.js"></script>   
    <title>KCLSU Profile Manager</title>
</head>

<body>
    <div id="app"></div>
</body>

<script>
function filterFeatured(ad){
    return ad.featured === "true"
}

function filterExpired(ad){
    return ad.visible === "hidden"
}

function filterVisible(ad){
    return ad.visible !== "hidden"
}

function filterTotum(ad){
    return ad.category === "totum"
}

contentManager({
pageTitle: 'Student Deals Manager',
filters: [["Featured Ad", "featured", filterFeatured], ["Hidden", "notvisible", filterExpired], ["Visible", "visible", filterVisible], ["Totum", "totum", filterTotum]],
labelCardKeys: ['image', 'advertiser', 'expiryDateTime'],
dataUrl: 'https://student-deals-4362e-default-rtdb.firebaseio.com/',
categoryKeyName: 'category',
authRequired: true,
secret: 123,
keyMapping: [
    { 
        keyName: 'advertiser',
        inputTitle: 'Name',
        inputDefaultText: "The name of the advertiser's business...",
        type: 'input',
        validationErrorMsg: 'Supply a valid name',
        validationTypes: ['isRequired']
    },
    { 
        keyName: 'url',
        inputTitle: 'Ad URL',
        inputDefaultText: 'The website URL for the ad...',
        type: 'input',
        validationErrorMsg: 'Supply a valid URL for the ad',
        validationTypes: ['isUrl']
    },
    { 
        keyName: 'image',
        inputTitle: 'Ad Image',
        inputDefaultText: '',
        type: 'image_file',
        thumbnailUrl: 'https://res.cloudinary.com/kclsu-media/image/upload/v1616514913/website_uploads/Database_Uploads/thumbnails/specs_s7jxey.jpg',
        validationErrorMsg: 'You have not uploaded an image for this ad!',
        validationTypes: ['isRequired', 'isNotThumbnail']
    },
    { 
        keyName: 'textShort',
        inputTitle: 'Short Text',
        inputDefaultText: 'A short description less than 80 character',
        type: 'input',
        validationErrorMsg: 'Enter a short text description, with the correct length.',
        validationTypes: ['isRequired']
    },
    { 
        keyName: 'textLong',
        inputTitle: 'Long Text',
        inputDefaultText: 'A longer description...',
        type: 'textarea',
        validationErrorMsg: 'Provide a full facebook URL.',
        validationTypes: ['isRequired']
    },
    { 
        keyName: 'expiryDateTime',
        inputTitle: 'Expiry Date',
        inputDefaultText: '',
        type: 'datetime',
        validationErrorMsg: 'Enter an expiry date and time',
        validationTypes: ['isRequired']
    },
    { 
        keyName: 'featured',
        inputTitle: 'Featured Banner',
        inputDefaultText: '....',
        type: 'select',
        validationErrorMsg: 'Select a featured banner option',
        options: [["Yes", 'true' , null], ["No", 'false', null]],
        validationTypes: ['isBoolean']
    },
    { 
        keyName: 'category',
        inputTitle: 'Category',
        inputDefaultText: '...',
        type: 'select',
        options: [["External", "external", null], ["Totum", "totum", null], ["Union Shop", "unionShop", null], ["Guy's Bar", "guysBar", null], ["The Shack", "theShack", null], ["The Shed", "theShed", null], ["The Vault", "theVault", null]],
        validationErrorMsg: 'Choose a category',
        validationTypes: ['isRequired']
    },
    { 
        keyName: 'visible',
        inputTitle: 'Visibility',
        inputDefaultText: '....',
        type: 'select',
        validationErrorMsg: 'Select a visibility option',
        options: [["Hidden", 'hidden', null], ["Show", 'show', null]],
        validationTypes: ['isRequired']
    },
    
]

});
 
</script>
</html>